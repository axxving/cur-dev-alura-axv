<div class="container-fluid py-5" id="conversorCriptomonedas">
  <div class="container mt-5">
    <h2 class="text-center titulo display-2 mb-4">
      Conversor de Criptomonedas a Peso
    </h2>
    <div class="row justify-content-center">
      <div class="col-md-6">
        <form>
          <div class="mb-3">
            <select class="form-select" id="criptomoneda">
              <option value="bitcoin">Bitcoin</option>
              <option value="ethereum">Ethereum</option>
              <option value="litecoin">Litecoin</option>
              <!-- Agregar más opciones de criptomonedas si es necesario -->
            </select>
          </div>
          <div class="mb-3">
            <input
              type="number"
              class="form-control"
              id="cantidad"
              placeholder="Ingrese la cantidad a convertir"
            />
          </div>
          <div class="mb-3">
            <select class="form-select" id="tipoPeso">
              <option value="mxn">Peso Mexicano (MXN)</option>
              <option value="usd">Dólar Estadounidense (USD)</option>
              <!-- Agregar más opciones de tipo de peso si es necesario -->
            </select>
          </div>
          <button type="submit" class="btn btn-outline-light">
            <i class="bi bi-currency-dollar"></i> Convertir
          </button>
        </form>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const form = document.querySelector("form");

    form.addEventListener("submit", async function (event) {
      event.preventDefault();

      const criptomoneda = document.getElementById("criptomoneda").value;
      const cantidad = parseFloat(document.getElementById("cantidad").value);
      const tipoPeso = document.getElementById("tipoPeso").value;

      try {
        const response = await fetch(
          `https://api.coingecko.com/api/v3/simple/price?ids=${criptomoneda}&vs_currencies=${tipoPeso}`
        );
        const data = await response.json();
        const valorCriptomoneda = data[criptomoneda][tipoPeso];

        if (!isNaN(valorCriptomoneda)) {
          const resultado = valorCriptomoneda * cantidad;
          alert(
            `El valor de ${cantidad} ${criptomoneda.toUpperCase()} equivale a ${resultado.toFixed(2)} ${tipoPeso.toUpperCase()}`
          );
        } else {
          alert("La criptomoneda ingresada no es válida.");
        }
      } catch (error) {
        console.error("Hubo un error al realizar la conversión:", error);
        alert(
          "Hubo un error al realizar la conversión. Por favor, intenta de nuevo más tarde."
        );
      }
    });
  });
</script>

<style>
  label {
    color: var(--blanco);
  }

  .bi {
    margin-right: 8px;
  }

  .btn-outline-light {
    &:hover {
      box-shadow: 2px 2px 10px rgba(255, 255, 255, 0.5);
    }
  }

  input {
    background-color: var(--transparente);
    backdrop-filter: blur(10px);
    color: var(--blanco);
  }

  input:active {
    background-color: var(--transparente);
    backdrop-filter: blur(10px);
    color: var(--blanco);
    box-shadow: 2px 2px 10px rgba(255, 255, 255, 0.5);
  }

  input:focus {
    background-color: var(--transparente);
    backdrop-filter: blur(10px);
    color: var(--blanco);
  }

  input::placeholder {
    color: var(--blanco);
  }

  input:focus {
    border-color: var(--blanco);
    box-shadow: 0 0 0 0.25rem rgba(255, 255, 255, 0.466);
  }

  select {
    background-color: var(--transparente);
    backdrop-filter: blur(10px);
    color: var(--blanco);
  }

  select:active {
    background-color: var(--transparente);
    backdrop-filter: blur(10px);
    color: var(--blanco);
    box-shadow: 2px 2px 10px rgba(255, 255, 255, 0.5);
  }

  select:focus {
    background-color: var(--transparente);
    backdrop-filter: blur(10px);
    color: var(--blanco);
  }

  select::placeholder {
    color: var(--blanco);
  }

  select:focus {
    border-color: var(--blanco);
    box-shadow: 0 0 0 0.25rem rgba(255, 255, 255, 0.466);
  }
</style>
